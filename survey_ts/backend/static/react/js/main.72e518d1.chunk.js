(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{117:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),o=n(9),r=n.n(o),c=(n(93),n(35)),l=n(66),s=n(67),d=n(19),m=n(72),u=n(73),h=n(68);var p=function(e){var t,n=JSON.parse(Object(h.decode)(e)),a=[],i=Object(c.a)(n.items);try{for(i.s();!(t=i.n()).done;){var o=t.value;a.push({id:o.id,name:o.name,description:o.description,type:o.type,addTextBox:o.addTextBox,choiceOpts:o.choiceOpts,addCheckBox:o.addCheckBox})}}catch(r){i.e(r)}finally{i.f()}return{id:n.id,name:n.name,description:n.description,items:a,isFinished:!1}},g=n(166),C=n(156),f=n(161),v=n(169),x=n(155),E=n(152),b=n(52),k=n(164),B=n(162),y=n(167);n(96);var I=n(168),O=n(160),w=n(158),D=n(159),j=n(157);function F(e){return i.a.createElement(I.a,{open:e.openState,onClose:e.closeEvent,"aria-labelledby":"form-dialog-title"},i.a.createElement(j.a,{id:"form-dialog-title"},e.title),i.a.createElement(w.a,null,i.a.createElement(D.a,null,e.description),e.secondDescription&&e.secondDescription.length?i.a.createElement(D.a,null,e.secondDescription):"",e.textFieldData?i.a.createElement(B.a,{autoFocus:!0,margin:"dense",id:e.textFieldData.id,label:e.textFieldData.label,fullWidth:!0,value:e.textFieldData.value,onChange:e.textFieldData.textOnChange,helperText:e.textFieldData.error?"\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u0432\u0432\u043e\u0434":"",error:e.textFieldData.error}):""),i.a.createElement(O.a,null,i.a.createElement(f.a,{onClick:e.buttonOnClick,color:"primary"},e.buttonText)))}var S=n(170);var U=n(71),W=n.n(U),T=p(window.token),q=function(e){Object(u.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).onUpdateUser=function(e){a.setState({user:e.target.value})},a.onUserClick=function(){var e,t=[],n=Object(c.a)(T.items);try{for(n.s();!(e=n.n()).done;){var i=e.value;t.push({name:i.name,description:i.description,id:i.id,answer:null,comment:"",type:i.type,isFinished:"text"===i.type,checkBoxChecked:!1})}}catch(o){n.e(o)}finally{n.f()}a.state.user.length>0&&a.setState({openLoginWindow:!1,items:t})},a.onRadioRatingChange=function(e){var t=Object.assign([],a.state.items),n=t.findIndex((function(t){return t.id===e.target.name}));t[n].answer=e.target.value,t[n].isFinished=!0,a.setState({items:t})},a.onCommentChange=function(e){var t=Object.assign([],a.state.items),n=t.findIndex((function(t){return t.id===e.target.name}));t[n].comment=e.target.value,a.setState({items:t})},a.onCheckBoxChange=function(e){var t=Object.assign([],a.state.items),n=t.findIndex((function(t){return t.id===e.target.name}));t[n].checkBoxChecked=e.target.checked,a.setState({items:t})},a.setClose=function(){a.setState({openNotFinishedWindow:!1})},a.onSubmit=function(e){if(e.preventDefault(),a.state.items.every((function(e){return e.isFinished||e.checkBoxChecked}))){var t="/id="+T.id,n={surveyId:T.id,items:a.state.items,user:a.state.user,isFinished:!0};W()({method:"post",url:t,data:n,headers:{"content-type":"application/json"}}).then((function(e){console.log(e.data),window.location="/answer"})).catch((function(e){console.log(e)}))}else a.setState({openNotFinishedWindow:!0})},a.state={id:T.id,openLoginWindow:!0,openNotFinishedWindow:!1,items:[],user:""},a.onRadioRatingChange=a.onRadioRatingChange.bind(Object(d.a)(a)),a.onSubmit=a.onSubmit.bind(Object(d.a)(a)),a.setClose=a.setClose.bind(Object(d.a)(a)),a.onUpdateUser=a.onUpdateUser.bind(Object(d.a)(a)),a.onUserClick=a.onUserClick.bind(Object(d.a)(a)),a.onCommentChange=a.onCommentChange.bind(Object(d.a)(a)),a.onCheckBoxChange=a.onCheckBoxChange.bind(Object(d.a)(a)),a}return Object(s.a)(n,[{key:"render",value:function(){var e,t,n,a=this,o=[],r=Object(c.a)(T.items);try{var l=function(){var t,n,r=e.value,l="single-choice"===r.type&&r.choiceOpts?r.choiceOpts.split("; "):[],s=[],d=Object(c.a)(l);try{for(d.s();!(t=d.n()).done;){var m=t.value;s.push(i.a.createElement(C.a,{value:m,control:i.a.createElement(g.a,null),label:m}))}}catch(f){d.e(f)}finally{d.f()}if("single-choice"===r.type&&l.length>0){var u={title:r.id+") "+r.name,description:r.description,questionId:r.id,questionValueExpr:a.state.items.map((function(e){return e.id})).includes(r.id)?a.state.items.filter((function(e){return e.id===r.id}))[0].answer:void 0,onChangeEvent:a.onRadioRatingChange,radioOpts:s,textInput:{hasTextInput:r.addTextBox,saveComment:a.onCommentChange},checkBoxData:{addCheckBox:r.addCheckBox,isChecked:a.state.items.map((function(e){return e.id})).includes(r.id)?a.state.items.filter((function(e){return e.id===r.id}))[0].checkBoxChecked:void 0,onChange:a.onCheckBoxChange}};o.push((n=u,i.a.createElement("div",null,i.a.createElement(E.a,{component:k.a},i.a.createElement(k.a,{p:2,component:x.a},i.a.createElement(b.a,{variant:"h4",align:"left"},n.title),i.a.createElement(b.a,{variant:"h5",align:"left"},n.description),n.checkBoxData&&n.checkBoxData.addCheckBox?i.a.createElement("div",null,i.a.createElement(C.a,{control:i.a.createElement(y.a,{checked:n.checkBoxData.isChecked,onChange:n.checkBoxData.onChange,name:n.questionId,color:"primary"}),label:"\u041f\u0440\u043e\u043f\u0443\u0441\u0442\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0439 \u0432\u043e\u043f\u0440\u043e\u0441"}),i.a.createElement("br",null)):"",i.a.createElement("label",null,i.a.createElement(v.a,{"aria-label":"radio",name:n.questionId,value:n.questionValueExpr,onChange:n.onChangeEvent},n.radioOpts)),n.textInput&&n.textInput.hasTextInput?i.a.createElement(B.a,{name:n.questionId,label:"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439",fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0},onChange:n.textInput.saveComment}):"")),i.a.createElement("br",null))))}if("text"===r.type){var h={title:r.id+") "+r.name,description:r.description,id:r.id,onCommentChange:a.onCommentChange};o.push(function(e){return i.a.createElement("div",null,i.a.createElement(E.a,{component:k.a},i.a.createElement(k.a,{p:2,component:x.a},i.a.createElement(b.a,{variant:"h4",align:"left"},e.title),i.a.createElement(b.a,{variant:"h5",align:"left"},e.description),i.a.createElement(B.a,{name:e.id,label:"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439",fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0},onChange:e.onCommentChange}))),i.a.createElement("br",null))}(h))}if("rating"===r.type){var p={title:r.id+") "+r.name,description:r.description,questionId:r.id,currentValue:a.state.items.map((function(e){return e.id})).includes(r.id)?a.state.items.filter((function(e){return e.id===r.id}))[0].answer:void 0,onChangeEvent:a.onRadioRatingChange,textInput:{hasTextInput:r.addTextBox,saveComment:a.onCommentChange},checkBoxData:{addCheckBox:r.addCheckBox,isChecked:a.state.items.map((function(e){return e.id})).includes(r.id)?a.state.items.filter((function(e){return e.id===r.id}))[0].checkBoxChecked:void 0,onChange:a.onCheckBoxChange}};o.push(function(e){return i.a.createElement("div",null,i.a.createElement(E.a,{component:k.a},i.a.createElement(k.a,{p:2,component:x.a,alignItems:"center"},i.a.createElement(b.a,{variant:"h4",align:"left"},e.title),i.a.createElement(b.a,{variant:"h5",align:"left"},e.description),e.checkBoxData&&e.checkBoxData.addCheckBox?i.a.createElement("div",null,i.a.createElement(C.a,{control:i.a.createElement(y.a,{checked:e.checkBoxData.isChecked,onChange:e.checkBoxData.onChange,name:e.questionId,color:"primary"}),label:"\u041f\u0440\u043e\u043f\u0443\u0441\u0442\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0439 \u0432\u043e\u043f\u0440\u043e\u0441"}),i.a.createElement("br",null)):"",i.a.createElement(S.a,{name:e.questionId,value:Number(e.currentValue),size:"large",onChange:e.onChangeEvent}),e.textInput&&e.textInput.hasTextInput?i.a.createElement(B.a,{name:e.questionId,label:"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439",fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0},onChange:e.textInput.saveComment}):"")),i.a.createElement("br",null))}(p))}};for(r.s();!(e=r.n()).done;)l()}catch(s){r.e(s)}finally{r.f()}return i.a.createElement("div",{className:"App",style:{justifyContent:"center",justifyItems:"center"}},F({openState:this.state.openLoginWindow,closeEvent:this.onUserClick,title:"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f",description:"\u0423\u043a\u0430\u0436\u0438\u0442\u0435, \u043f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0412\u0430\u0448 \u043b\u043e\u0433\u0438\u043d. \u0414\u0430\u043d\u043d\u044b\u0439 \u043b\u043e\u0433\u0438\u043d \u0431\u0443\u0434\u0435\u0442 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d \u0432\u043c\u0435\u0441\u0442\u0435 \u0441 \u0412\u0430\u0448\u0438\u043c\u0438 \u043e\u0442\u0432\u0435\u0442\u0430\u043c\u0438.",secondDescription:"",textFieldData:{id:"login",label:"\u041b\u043e\u0433\u0438\u043d",value:this.state.user,textOnChange:this.onUpdateUser,error:0===this.state.user.length},buttonOnClick:this.onUserClick,buttonText:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"}),i.a.createElement("br",null),(t=T.name,n=T.description,i.a.createElement(E.a,{component:k.a},i.a.createElement(k.a,{p:2,component:x.a,textAlign:"center"},i.a.createElement(b.a,{variant:"h3",gutterBottom:!0},t),i.a.createElement(b.a,{variant:"h4",gutterBottom:!0},n)))),i.a.createElement("br",null),i.a.createElement("div",null,o),i.a.createElement(f.a,{className:"Margin",variant:"contained",onClick:this.onSubmit,color:"primary",size:"large"},"\u0417\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u044c \u043e\u043f\u0440\u043e\u0441"),i.a.createElement("br",null),F({openState:this.state.openNotFinishedWindow,closeEvent:this.setClose,title:"\u041e\u043f\u0440\u043e\u0441 \u043d\u0435 \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d!",description:this.state.items.length!==T.items.length||-1!==this.state.items.findIndex((function(e){return null===e.answer}))?"\u0412\u044b \u043d\u0435 \u043e\u0442\u0432\u0435\u0442\u0438\u043b\u0438 \u043d\u0430 \u0432\u043e\u043f\u0440\u043e\u0441\u044b: "+this.state.items.filter((function(e){return!e.isFinished&&!e.checkBoxChecked})).map((function(e){return e.id})).join(", "):"",secondDescription:0===this.state.user.length?"\u041b\u043e\u0433\u0438\u043d \u043d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d":"",buttonOnClick:this.setClose,buttonText:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c"}))}}]),n}(i.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(q,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},88:function(e,t,n){e.exports=n(117)},93:function(e,t,n){},96:function(e,t,n){}},[[88,1,2]]]);
//# sourceMappingURL=main.72e518d1.chunk.js.map